# Sensors

  # External IP Address
  - platform: dnsip

  # Travis-CI Sensor for continues integration
  - platform: travisci
    api_key: !secret travis_token
    branch: master
    repository: HomeAssistant

  # Templates for rerieving last state
  - platform: template
    sensors:
      voordeur_last_open:
        entity_id: binary_sensor.voordeur
        friendly_name: "Voordeur laatst open"
        value_template: >-
          {% if is_state('binary_sensor.voordeur', 'on') %}
            Open
          {% else %}
            {{ states.binary_sensor.voordeur.last_changed.strftime('%H:%M')}}
          {% endif %}
        icon_template: >-
          {% if is_state('binary_sensor.voordeur', 'on') %}
            mdi:door-open
          {% else %}
            mdi:door-closed
          {% endif %}
      achterdeur_last_open:
        entity_id: binary_sensor.achterdeur
        friendly_name: "Achterdeur laatst open"
        value_template: >-
          {% if is_state('binary_sensor.achterdeur', 'on') %}
            Open
          {% else %}
            {{ states.binary_sensor.achterdeur.last_changed.strftime('%H:%M')}}
          {% endif %}
        icon_template: >-
          {% if is_state('binary_sensor.achterdeur', 'on') %}
            mdi:door-open
          {% else %}
            mdi:door-closed
          {% endif %}
      woonkamer_last_presence:
        entity_id: binary_sensor.woonkamer_presence
        friendly_name: "Woonkamer aanwezigheid"
        value_template: >-
          {% if is_state('binary_sensor.woonkamer_presence', 'on') %}
            Gedetecteerd
          {% else %}
            {{states.binary_sensor.woonkamer_presence.last_changed.strftime('%H:%M')}}
          {% endif %}
        icon_template: >-
          {% if is_state('binary_sensor.woonkamer_presence', 'on') %}
            mdi:motion-sensor
          {% else %}
            mdi:account-off
          {% endif %}
      eetkamer_last_presence:
        entity_id: binary_sensor.eetkamer_presence
        friendly_name: "Eetkamer aanwezigheid"
        value_template: >-
          {% if is_state('binary_sensor.eetkamer_presence', 'on') %}
            Gedetecteerd
          {% else %}
            {{states.binary_sensor.eetkamer_presence.last_changed.strftime('%H:%M')}}
          {% endif %}
        icon_template: >-
          {% if is_state('binary_sensor.eetkamer_presence', 'on') %}
            mdi:motion-sensor
          {% else %}
            mdi:account-off
          {% endif %}
